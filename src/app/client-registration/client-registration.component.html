
  <nav class="navbar navbar-expand-lg navbar-light navbar-bg">
    <div class="container">
  <a class="navbar-brand" href="index.html"><img src="../assets/images/sampurna_logo.png"></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
   
    <div class="fullwidthLI">
      <h5>Client Registration </h5>
    </div>
    
  </div>
</div>
</nav>
<div class="container">
  <div class="wrapper">
      <form [formGroup]="ClientRegForm" (ngSubmit)="onSubmit()" novalidate>
          <div class="form-group">   
  <div class="row">
    <div class="col-md-3 form-group">
	    <label class="modelManufactureAddress">Manufacturer/Brand Name<sup style="color:red">*</sup></label>
          <input type="text" formControlName="MFName" class="form-control" placeholder="Enter Manufacturer/Brand Name" [ngClass]="{ 'is-invalid': submitted && f.MFName.errors }" (change)="GenerateMFCode($event.target.value)"/>
   <div *ngIf=" f.MFName.errors" class="invalid-feedback" >
            <div *ngIf="f.MFName.errors.required">Manufacturer/Brand Name is Required</div>
        </div>
      </div>
	  
      <div class="col-md-3 form-group">

	    <label class="modelManufactureAddress">Manufacturer/Brand Code <sup style="color:red">*</sup></label>
          <input type="text" formControlName="MFCode" class="form-control" placeholder="Enter Manufacturer/Brand Code" [ngClass]="{ 'is-invalid': submitted && f.MFCode.errors }" [disabled]="true" readonly/>
   <div *ngIf=" f.MFCode.errors" class="invalid-feedback">
            <div *ngIf="f.MFCode.errors.required">Manufacturer/Brand Code is Required</div>
        </div>
      </div>
      
      
      <div class="col-md-3 form-group">

        <label class="modelManufactureAddress">Billing Address<sup style="color:red">*</sup></label>
          <textarea  class="form-control" placeholder="Enter Billing Address" formControlName="MFAddress" [ngClass]="{ 'is-invalid': submitted && f.MFAddress.errors }"></textarea>
		   <div *ngIf=" f.MFAddress.errors" class="invalid-feedback" >
            <div *ngIf="f.MFAddress.errors.required">Billing Address is Required</div>
        </div>
      </div>
	  
      <div class="col-md-3 form-group">

       <label class=""> Select State<sup style="color:red">*</sup></label>
        <select class="form-control" formControlName="MFStateId" [ngClass]="{ 'is-invalid': submitted && f.MFStateId.errors }"  (change)="GetStateMappingStateForm($event.target.value)">
               <option [selected]=true value="">Select State</option>
                <option *ngFor="let Data of statemasterdata" value="{{Data.Stateid}}">{{Data.StateName}} </option>
               </select> 
	
	 <div *ngIf=" f.MFStateId.errors" class="invalid-feedback" >
            <div *ngIf="f.MFStateId.errors.required">State is Required</div>
        </div>
      </div>
	  
      
      <div class="col-md-3 form-group">

       <label class="">Select City<sup style="color:red">*</sup></label>
         <select class="form-control" formControlName="MFCityIds" [ngClass]="{ 'is-invalid': submitted && f.MFCityIds.errors }">
               <option [selected]=true value="">Select City</option>
                <option *ngFor="let Data of citydata" value="{{Data.CityId}}">{{Data.CityName}} </option>
               </select> 
			   
			    <div *ngIf=" f.MFCityIds.errors" class="invalid-feedback" >
            <div *ngIf="f.MFCityIds.errors.required">City is Required</div>
        </div>
      </div>
      
      <div class="col-md-3 form-group">

        <label class="modelGST"> GST No.<sup style="color:red">*</sup></label>
           <input type="text" formControlName="MFGST" class="form-control" placeholder="Enter GST No"  pattern="[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$" [ngClass]="{ 'is-invalid': submitted && f.MFGST.errors }" />
           <div *ngIf="f.MFGST.invalid && (f.MFGST.dirty || submitted)" class="invalid-feedback ">
            <div *ngIf="f.MFGST.errors.pattern" class="custom-Invalid-feedback feedback-pos">
              Enter valid GST Number

            </div>
            </div>
       </div>
      
       <div class="col-md-3 form-group"> 
           <label class="modelGST lbl-margin">Creation Date&nbsp;<sup style="color:red">*</sup></label> 
            <input type="Date" formControlName="CreationDate" value="{{TodayDateC}}" class="form-control" placeholder="Select Creation Date" readonly /> 
          
         </div> 
         <div class="col-md-3 form-group">
            <label class="modelManufactureAddress">Volume Capacity(In Ton)<sup style="color:red">*</sup></label>
                <input type="number" formControlName="Tonnage" class="form-control" placeholder="Enter Tonnage" [ngClass]="{ 'is-invalid': submitted && f.Tonnage.errors }" />
         <div *ngIf=" f.Tonnage.errors" class="invalid-feedback" >
                  <div *ngIf="f.Tonnage.errors.required">Tonnage is Required</div>
              </div>
            </div>
       <div class="col-md-3 form-group">

		<label class="modelDisposer lbl-margin">Select Agreement Status&nbsp;<sup style="color:red">*</sup></label>
		<select class="form-control" formControlName="AgreementStatusId" [ngClass]="{ 'is-invalid': submitted && f.AgreementStatusId.errors }" (change)="GetAgreementValue($event.target.value)">
                <option [selected]=true [disabled]="true">Select Agreement Status</option>
                <option *ngFor="let Data of AggrementStatusdata" value="{{Data.StatusId}}" >{{Data.StatusName}} </option>
               </select> 
			   
			   <div *ngIf="submitted && f.AgreementStatusId.errors" class="invalid-feedback" >
            <div *ngIf="f.AgreementStatusId.errors.required">Agreement Status is Required</div>
        </div>
		</div>
		<div class="col-md-3 form-group" *ngIf="NoneAgreementStatusSelected" style="display: block"></div>

    <div class="col-md-3 form-group" *ngIf="SignedSelected" >
      <label class="modelGST">Expiry Date<sup style="color:red">*</sup></label> 
        <input type="date" formControlName="ExpiryDate" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.ExpiryDate.errors }">
    <div *ngIf=" f.ExpiryDate.errors" class="invalid-feedback" >
           <div *ngIf="f.ExpiryDate.errors.required">Expiry Date is Required</div>
       </div>
     </div>
    <div class="col-md-3 form-group" *ngIf="TerminatedSelected">
        <label class="modelGST">Last Date<sup style="color:red">*</sup></label> 
        <input type="date" formControlName="ExpiryDate" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.ExpiryDate.errors }">
        <div *ngIf=" f.ExpiryDate.errors" class="invalid-feedback" >
          <div *ngIf="f.ExpiryDate.errors.required">Expiry Date is Required</div>
      </div>
    </div>
	
	 
    
      <div class="col-md-3 form-group" *ngIf="ShowBlock" >
        <label class="modelGST">Signed Date<sup style="color:red">*</sup></label> 
        <input type="date" formControlName="SignedDate" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.SignedDate.errors }">
        <div *ngIf=" f.SignedDate.errors" class="invalid-feedback" >
          <div *ngIf="f.SignedDate.errors.required">Signed Date is Required</div>
      </div>
    </div>

		<div class="col-md-3" *ngIf="NoneAgreementStatusSelected" style="display: block"></div>
    <div class="col-md-3" *ngIf="NoneAgreementStatusSelected" style="display: block"></div>


  </div>
  <div class="row">
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-12">
              <label class="modelDetails"><b>Primary Contact Details :</b></label>

          </div>
          <div class="col-md-6 form-group">
              <label class="modelManufactureAddress">Name<sup style="color:red">*</sup> </label>
              <input type="text" formControlName="PrimaryCntName" class="form-control" placeholder="Enter Name" [ngClass]="{ 'is-invalid': submitted && f.PrimaryCntName.errors }"/>
          <div *ngIf=" f.PrimaryCntName.errors" class="invalid-feedback" >
                  <div *ngIf="f.PrimaryCntName.errors.required">Name is Required</div>
              </div>

          </div>
          <div class="col-md-6 form-group">
              <label class="modelManufactureAddress">Designation<sup style="color:red">*</sup></label>
              <input type="text" formControlName="PrimaryCntDesignation" class="form-control" placeholder="Enter Designation" [ngClass]="{ 'is-invalid': submitted && f.PrimaryCntDesignation.errors }"/>
          <div *ngIf=" f.PrimaryCntDesignation.errors" class="invalid-feedback" >
                  <div *ngIf="f.PrimaryCntDesignation.errors.required">Designation is Required</div>
              </div>
          </div>
          <div class="col-md-6 form-group">

              <label class="modelManufactureAddress">Mobile<sup style="color:red">*</sup></label>
              <input type="number" formControlName="PrimaryCntTelNo" class="form-control" placeholder="Enter Mobile Number" [ngClass]="{ 'is-invalid': submitted && f.PrimaryCntTelNo.errors }" pattern="[7-9]{1}[0-9]{9}" maxlength="10" />
          <div *ngIf=" f.PrimaryCntTelNo.errors" class="invalid-feedback" >		
                  <div *ngIf="f.PrimaryCntTelNo.errors.required">
            Please input 10 digit Mobile Number
            </div>
            <div *ngIf="f.PrimaryCntTelNo.errors.minlength">
              Mobile Number must be at least 10 digit long
            </div> 
            <div *ngIf="f.PrimaryCntTelNo.errors.maxlength"> 
              Mobile Number can be max 10 digit long
            </div>	
            <div *ngIf="f.PrimaryCntTelNo.errors.pattern"> 
              Please enter valid Mobile number
            </div>	
              </div>
          </div>

          <div class="col-md-6 form-group">
              <label class="modelManufactureAddress">Landline</label>
              <input type="text" formControlName="PrimaryCntLandlineNo" class="form-control" placeholder="Enter Landline" pattern="^\d{3}-\d{3}-\d{4}$"   />
          <div *ngIf=" f.PrimaryCntLandlineNo.errors" class="invalid-feedback" >	
          <div *ngIf="f.PrimaryCntLandlineNo.errors.pattern"> 
           Please enter valid Landline number
           </div>	
           </div>	
          </div>

          <div class="col-md-6 form-group">

              <label class="modelManufactureAddress">Email<sup style="color:red">*</sup></label>
              <input type="text" formControlName="PrimaryCntEmail" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.PrimaryCntEmail.errors }" placeholder="Enter Email"  pattern="^([A-Za-z0-9_\-\.]+)@[A-Za-z0-9-]+(\.[A-Za-z0-9-]+)*(\.[A-Za-z]{2,3})$" required [email]="true"/>
              
              <div *ngIf="f.PrimaryCntEmail.invalid && (f.PrimaryCntEmail.dirty || submitted)" class="invalid-feedback ">
              <div *ngIf="f.PrimaryCntEmail.errors.required"> Email ID Required </div>
              <div *ngIf="f.PrimaryCntEmail.errors.email && !f.PrimaryCntEmail.errors.required" class="custom-Invalid-feedback feedback-pos">
              Please input valid email ID
              </div>
              </div> 
          </div>
        </div>
       
			
		
      </div>
      
      <div class="col-md-6">
	 <div class="row">
     <div class="col-md-12">
        <label class="modelDetails"><b>Secondary Contact Details :</b>&nbsp;<input type="checkbox" checked="checked" formControlName="CheckboxSelect" (change)="toggleEditable($event)" />
          Same as above
       </label>
     </div>

    
     <div class="col-md-6 form-group">
        <label class="modelManufactureAddress">Name</label>
        <input type="text" formControlName="SecCntName" class="form-control" placeholder="Enter Name" />
      </div>
      <div class="col-md-6 form-group">
          <label class="modelManufactureAddress">Designation</label>
          <input type="text" formControlName="SecCntDesignation"   class="form-control" placeholder="Enter Designation" />
        </div>
        <div class="col-md-6 form-group">
            <label class="modelManufactureAddress">Mobile</label>
            <input type="text"  formControlName="SecCntTelNo"   class="form-control" placeholder="Enter Mobile Number" pattern="[7-9]{1}[0-9]{9}" />
        <div *ngIf=" f.SecCntTelNo.errors" class=" custom-Invalid-feedback" >	
          <div *ngIf="f.SecCntTelNo.errors.minlength">
            Mobile Number must be at least 10 digit long
          </div> 
          <div *ngIf="f.SecCntTelNo.errors.maxlength"> 
            Mobile Number can be max 10 digit long
          </div>	
          <div *ngIf="f.SecCntTelNo.errors.pattern"> 
            Please enter valid Mobile number
          </div>	
          </div>	
          </div>


          <div class="col-md-6 form-group">
              <label class="modelManufactureAddress">Landline</label>
              <input type="text" formControlName="SecCntLandlineNo"   class="form-control" placeholder="Enter Landline Number"  pattern="^\d{3}-\d{3}-\d{4}$"/>
          <div *ngIf=" f.SecCntLandlineNo.errors" class="custom-Invalid-feedback" >	
          <div *ngIf="f.SecCntLandlineNo.errors.pattern"> 
           Please enter valid Landline number
           </div>
           </div>
          </div>
          <div class="col-md-6 form-group">
              <label class="modelManufactureAddress">Email</label>
              <input type="text" formControlName="SecCntEmail" class="form-control" placeholder="Enter Email" pattern="^([A-Za-z0-9_\-\.]+)@[A-Za-z0-9-]+(\.[A-Za-z0-9-]+)*(\.[A-Za-z]{2,3})$"  [email]="true" /> 
          <div *ngIf="f.SecCntEmail.invalid && (f.SecCntEmail.dirty || submitted)" class="custom-Invalid-feedback">
            <div *ngIf="f.SecCntEmail.errors.email" class="custom-Invalid-feedback feedback-pos">
            Please input valid email ID
            </div>
            </div> 
          
                </div>

          </div>

   </div>
   
	
  </div>

  <div class="row">
      <div class="col-md-12">
          <div id="accordion" class="accordion">
              <div class="card mb-0">
                  <div class="card-header collapsed" data-toggle="collapse" href="#collapseOne">
                      <a class="card-title">
                       <b>Document Upload</b>
                      </a>
                  </div>
                  <div id="collapseOne" class="card-body collapse" data-parent="#accordion" >
                      <form  [formGroup]="DocUploadForm"  novalidate>
                          <div class="row">
                              <div class="col-md-6 form-group">
                        <br>
                         <input type="file" class="form-control file1 browse" id="fileupload1" formControlName="DocumentName" (change)="getFiles($event)"[ngClass]="{ 'is-invalid': submitted && d.DocumentName.errors }">
                              <div *ngIf="submitted && d.DocumentName.errors" class="invalid-feedback" >
            <div *ngIf="d.DocumentName.errors.required">Select Document here..</div>
        </div>	
                      </div>
                      <div class="col-md-6 form-group">
                         <label class="" > Document Type&nbsp;<sup style="color:red">*</sup></label>
                       
                           <select class="form-control" formControlName="DocumentTypeId"[ngClass]="{ 'is-invalid': submitted && d.DocumentTypeId.errors }">
                             <option [selected]=true [disabled]="true" value="">Select Document Type</option>
                             <option *ngFor="let Data of DocData" value="{{Data.DocumentTypeId}}" >{{Data.DocumentTypeName}} </option>
                           </select>
                 
                              <div *ngIf="submitted && d.DocumentTypeId.errors" class="invalid-feedback" >
            <div *ngIf="d.DocumentTypeId.errors.required">Select Document Type..</div>
        </div>	
                 
                      </div>
                              <div class="col-md-6 form-group">
                               <label>Comments</label>
                               <textarea  formControlName="DocumentDetails" placeholder="Enter Comments" class="form-control" ></textarea>	
                       
                               </div>
                              <div class="col-md-12">
                                
                                 <button class="btn btn-primary" (click)="UploadDocument()"> Add</button>  
        
                              </div>
                              
                            </div>
                        </form>
                        <div class="space10"></div>
                        <div class="row">
                            <div class="col-md-12">
                              <div class="table-responsive">
                                 <div class="space10"></div>
                                <table class="table table-borderless table-hover tableborder align-middle citytable">
                                  <thead class="headerbackground text-white">
                                     <tr>
                                         <th></th>
                                         <th>Sr No.</th>
                                         <th>Document Name</th>
                                         <th>Document Type</th>
                                         <th>Comments</th>
                                       </tr>
                                     
                                  </thead>
                                <tbody>
                                   <tr *ngFor="let Data of DocumentData ; let i=index">
                                       <th><a href="{{Data.Document}}" target="_blank" class="btn-color">View</a><br><button (click)="DeleteDocument(Data.DocumentId)" class="btn-color"> Delete</button></th>
                                        <th>{{i + 1}}</th>								  
                                        <th>{{Data.DocumentName}}</th>
                                        <th>{{Data.DocumentTypeName}}</th>
                                        <th>{{Data.DocumentDetails}}</th>
                                   </tr>
                                </tbody>
                                </table>
      
                              </div>
                            </div>
                          </div>
                          <div class="space10"></div>

                    </div>
              </div>
            </div>
      </div>
    </div>
    <br>
    <form [formGroup]="AgreementForm">
    <div class="form-group">
        <input type="checkbox"  class="largerCheckbox" (change)="IAgreeSelected($event)" formControlName="IAgreeSelect" />I agree to terms and conditions
            &nbsp;&nbsp;&nbsp; <a href="" style="text-decoration: underline;color:blue;">Terms and Conditions</a>
        <div *ngIf="errorfortonnage" style="color:red;">Please check this box if you want to proceed</div>
    </div> 
  </form>
    <div class="form-group btn-submit">
        <button class="btn btn-primary" >Submit</button>     
    </div>
    <img *ngIf="loading" class="loadingbutton" src="../assets/images/Loading.gif"> 
 <!-- <div *ngIf="successmsg" class="form-group update-msg">Added Successfully</div>  -->
  </div>
</form>  




<div id="TonnageGreaterThanFive" class="modal fade " role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">    
       <div class="modal-content">
          <div class="modal-header" >
            <button type="button" class="close" data-dismiss="modal">&times;</button>       
          </div>
        <div class="modal-body height-130">    
   <div class="alert alert-success">
    
      Please connect Sampurna Team for signing Agreement
    </div>
        
        </div>
        <div class="modal-footer">
         <button type="button" class="btn btn-default" data-dismiss="modal" (click)="ResetFrom()">Ok</button>
        </div>
      </div>
    </div>
  </div>



     <!--My Modal Alert-->
  <div id="myModalalert" class="modal fade" role="dialog"  data-backdrop="static" data-keyboard="false">
      <div class="modal-dialog">    
         <div class="modal-content">
            <div class="modal-header" >
              <button type="button" class="close" data-dismiss="modal">&times;</button>       
            </div>
          <div class="modal-body">    
     <div class="alert alert-success"> {{AlertMessage}}</div>
          
          </div>
          <div class="modal-footer">
           <button type="button" class="btn btn-default"  data-dismiss="modal"  >ok</button>
          </div>
        </div>
      </div>
    </div>
    <!--My Modal Alert-->
</div>
</div>
