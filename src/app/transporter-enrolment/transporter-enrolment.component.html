<div class="container">
  <div class="transpotermainDiv">
    <div class="col-md-12"> 
     <h2 align="center" class="labelclass col-md-12 labelstyle"> Transporters  </h2>
	 
	 <div class="row button-margin">
	  
     <div class="col-md-6">
		<input type="" placeholder="Search By Transporter City,State,Name,Aggrement Status ...." class="form-group form-control searchtextbox" name="" (input)="SearchTransporters($event.target.value)">
     </div>
	  <div class="col-md-2">
		<button (click)="exportAsXLSX()" class="btn btn-primary Addcitybtton float-right print-button">Export To Excel </button>
    </div>
	  <div class="col-md-2">
		<button (click)="print()" class="btn btn-primary Addcitybtton float-right print-button">Print </button>
     </div>
    
	 
	 <div class="col-md-2">
      <div class="float-right">
      <button class="btn btn-primary Addcitybtton"  data-toggle="modal" data-target="#myModalTrans" (click)="ResetFrom()">Add Transporters</button>
      </div>
      </div>
     </div>
	 
	    <form [formGroup]="TransporterFilterForm">
	   
	   <div class="row">
	    
	   <div class="col-md-3 form-group">
	   <label class="">State</label>
      <select class="form-control" (change)="FilterOnState($event.target.value)" (change)="GetStateMappingState($event.target.value)"
	  formControlName="StateId">
              <option [selected]=true  value=
				"0">All State</option>
			<option *ngFor="let Data of statemasterdata" value="{{Data.Stateid}}" >{{Data.StateName}} </option>
       </select> 
      </div> 
	  
	  <div class="col-md-3 form-group">    
		   <label class="">City</label>          
		<select formControlName="CityId" class="form-control" (change)="FilterOnCity($event.target.value)" >
                <option [selected]=true  value=
				"0">All City</option>
                <option *ngFor="let Data of citydata" value="{{Data.CityId}}" >{{Data.CityName}} </option>
        </select> 
     </div>
	 
	  
	  <div class="col-md-3 form-group">
		<label class="">Transpoter Name</label>
		<select class="form-control" (change)="FilterOnName($event.target.value)" formControlName="TranspoterName">
			<option [selected]=true  value="">All Transpoter </option>
			<option *ngFor="let Data of TRNameList" value="{{Data.Name}}" >{{Data.Name}} </option>
        </select>
      </div>
	    
	  <div class="col-md-3 form-group">
	 <label class="">Select Agreement Status</label>
		<select class="form-control" (change)="FilterOnAGStatus($event.target.value)" formControlName="AgreementStatusId">
                <option [selected]=true value="0">All Agreement Status</option>
                <option *ngFor="let Data of TransportationStatusdata1" value="{{Data.StatusId}}" >{{Data.StatusName}} </option>
         </select> 
      </div>
	  
      </div>
	  
	  </form>
	  
	  
	  <div id="print-section">
     <div class="table-responsive">
     
     <!-- Add new customer button -->
     
   
     
     <table class="table table-borderless table-hover tableborder align-middle citytable">
      <thead class="headerbackground text-white">
      <tr>
          <th class="doNotPrint"></th>
          <th>Sr No</th>
          <th>Transporter Code</th>
          <th>Transporter Name</th>
          <th class="padding-left-right-150">Billing Address</th>
          <th>State</th>
      <th>City</th>
      <!-- <th>Details</th> -->
      <th>GST No</th>
      <th>Agreement Status</th>
       <th>Expiry Date</th>
       <th>Signed Date</th>
       <th>Last Date</th>

      <!-- <th>Transporter Document</th> -->
      <!-- <th class="doNotPrint"></th> -->
    
      
      </tr>
      </thead>
      <tbody>
	    <tr *ngFor="let Data of Transportdata ; let i=index">  
        <td class="doNotPrint"><a  (click)="EditTransportData(Data.TRCode,Data.TRName,Data.TRAddress,Data.StateId,Data.PanNumber,Data.TRCityId,Data.TRDetails,Data.GSTNo,Data.AgreementStatusId,Data.ExpiryDate,Data.PrimaryCntName,Data.PrimaryCntDesignation,Data.PrimaryCntTelNo,Data.PrimaryCntLandlineNo,Data.PrimaryCntEmail,Data.SecCntName,Data.SecCntDesignation,Data.SecCntTelNo,Data.SecCntLandlineNo,Data.SecCntEmail,Data.TransporterId,Data.CreationDate,Data.SignedDate)"> <span data-dismiss="modal" data-toggle="modal" data-target="#myModaledit" class="btn-color">Edit</span> </a>
		&nbsp;&nbsp;&nbsp;&nbsp;
		<a  (click)="DeleteTransportData(Data.TRCode,Data.TRName,Data.TRAddress,Data.StateId,Data.PanNumber,Data.TRCityId,Data.TRDetails,Data.GSTNo,Data.AgreementStatusId,Data.ExpiryDate,Data.PrimaryCntName,Data.PrimaryCntDesignation,Data.PrimaryCntTelNo,Data.PrimaryCntLandlineNo,Data.PrimaryCntEmail,Data.SecCntName,Data.SecCntDesignation,Data.SecCntTelNo,Data.SecCntLandlineNo,Data.SecCntEmail,Data.TransporterId,Data.CreationDate,Data.SignedDate)"> <span data-dismiss="modal" data-toggle="modal" data-target="#myModaldelete" class="btn-color">Delete</span> </a>
		
    <label >
      <span> 
       <button class="btn btn-primary Addcitybtton"   (click)="RedirectToAddVehicle(Data.TransporterId,Data.TRName)
       "routerLink="/AddVehicle">View/Add Vehicles</button>
      </span>
    </label>
    <!--Old button-->
    <!-- <label (click)="GetTransporterId(Data.TransporterId,Data.TRName)"><span>  <button class="btn btn-primary Addcitybtton"  data-dismiss="modal" data-toggle="modal" data-target="#myModalAddVehicales">Add Vehicles</button></span></label> -->
		</td>
        <td>{{i+1}}</td>
        <td>{{Data.TRCode}}</td>
        <td>{{Data.TRName}}</td>
        <td class="address10">{{Data.TRAddress}}</td>
        <!-- <td></td> -->
        <td>{{Data.StateName}}</td>
       <td>{{Data.TRCityName}}</td> 
       <!-- <td>{{Data.TRDetails}}</td>  -->
       <td>{{Data.GSTNo}}</td> 
       <td>
         <span *ngIf="Data.AgreementStatusName=='Signed'" style="color:Green">{{Data.AgreementStatusName}}</span>
	  <span *ngIf="Data.AgreementStatusName=='Not Signed'" style="color:Red">{{Data.AgreementStatusName}}</span>
	  <span *ngIf="Data.AgreementStatusName=='Expired/Terminated'" style="color:Red">{{Data.AgreementStatusName}}</span>
    <span *ngIf="Data.AgreementStatusName=='30 Days to Expire'" style="color:Orange">{{Data.AgreementStatusName}}</span>
    <span *ngIf="Data.AgreementStatusName=='Closed'" style="color:Red">{{Data.AgreementStatusName}}</span>

	  </td>
       <!-- <td>{{Data.ExpiryDate | date:'dd/MM/yyyy'}}</td>
       <td>{{Data.SignedDate | date:'dd/MM/yyyy'}}</td> -->
       <td>
          <span *ngIf="Data.AgreementStatusName=='Signed'" style="color:Green"> {{Data.ExpiryDate| date:'dd/MM/yyyy'}} </span>
          <span *ngIf="Data.AgreementStatusName=='Not Signed'" style="color:Red"></span>
          <span *ngIf="Data.AgreementStatusName=='Expired/Terminated'" style="color:Red"></span>
        <!-- <span *ngIf="Data.DateDiff=='30'" style="color:Orange">{{Data.ExpiryDate| date:'dd/MM/yyyy'}}</span> -->
        <span *ngIf="Data.AgreementStatusName=='Closed'" style="color:Red"></span>
       </td>


         <td>
          <span *ngIf="Data.AgreementStatusName=='Signed'" style="color:Green">   {{Data.SignedDate| date:'dd/MM/yyyy'}} </span>
          <span *ngIf="Data.AgreementStatusName=='Not Signed'" style="color:Red"></span>
          <span *ngIf="Data.AgreementStatusName=='Expired/Terminated'" style="color:Red">  {{Data.SignedDate| date:'dd/MM/yyyy'}}</span>
          <span *ngIf="Data.AgreementStatusName=='Closed'" style="color:Red">{{Data.SignedDate| date:'dd/MM/yyyy'}}</span>

          <!-- <span *ngIf="Data.DateDiff=='30'" style="color:Orange">  {{Data.SignedDate| date:'dd/MM/yyyy'}}</span> -->
        
      </td>

      <td>        
          <span *ngIf="Data.AgreementStatusName=='Closed'" style="color:Red">{{Data.ExpiryDate| date:'dd/MM/yyyy'}}</span>
          <span *ngIf="Data.AgreementStatusName=='Expired/Terminated'" style="color:Red">{{Data.ExpiryDate| date:'dd/MM/yyyy'}}</span>
    
        </td>


      <!-- <td>Document</td> -->
      
   <!--  <td  class="doNotPrint" (click)="GetTransporterId(Data.TransporterId,Data.TRName)"><span>  <button class="btn btn-primary Addcitybtton"  data-dismiss="modal" data-toggle="modal" data-target="#myModalAddVehicales">Vehicles</button></span></td> -->
    
      </tr>
   
    
   
    
    </tbody>
     </table>
     
  
     </div>
	 </div>
	  <div class="loadingTable">
   <img *ngIf="loading"  src="../assets/images/Loading.gif">
   </div>
  </div>
  </div>

  <!--Add Button Transporter-->
  <div id="myModalTrans" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg">    
       <div class="modal-content">
          <div class="modal-header" >
              <h4 class="text-center">Add New Transporter</h4>

            <button type="button" class="close" data-dismiss="modal">&times;</button>       
          </div>
        <div class="modal-body">    
 <form [formGroup]="TransportForm"  (ngSubmit)="onSubmit()" novalidate>
      <div class="form-group">
    <div class="col-md-12 row">
	
	 <div class="col-md-6 form-group">
       <label class="modelManufacturename">Transporter Name&nbsp;<sup style="color:red">*</sup></label>
      <input type="text" formControlName="TRName" class="form-control" placeholder="Enter Transporter  Name" [ngClass]="{ 'is-invalid': submitted && f.TRName.errors }" (change)="GenerateMFCode($event.target.value)"  />
		<div *ngIf="submitted && f.TRName.errors" class="invalid-feedback" >
            <div *ngIf="f.TRName.errors.required">Transport Name is Required</div>
        </div>	  
      </div>
	  
	  
	 <div class="col-md-6 form-group">
          <label class="modelManufacturename">Transporter Code&nbsp;<sup style="color:red">*</sup></label>
          <input type="text" formControlName="TRCode" class="form-control" placeholder="Enter Transporter Code" [ngClass]="{ 'is-invalid': submitted && f.TRCode.errors }"  readonly />
		<div *ngIf="submitted && f.TRCode.errors" class="invalid-feedback" >
            <div *ngIf="f.TRCode.errors.required">Transport Code is Required</div>
        </div>
        </div>
      
     
      
      <div class="col-md-6 form-group">
       <label class="modelManufactureAddress">Billing Address&nbsp;<sup style="color:red">*</sup></label>
          <textarea  formControlName="TRAddress" class="form-control" placeholder="Enter Billing Address" [ngClass]="{ 'is-invalid': submitted && f.TRAddress.errors }"></textarea>
		  
		  <div *ngIf="submitted && f.TRAddress.errors" class="invalid-feedback" >
            <div *ngIf="f.TRAddress.errors.required">Billing Address is Required</div>
        </div>
      </div>
      <div class="col-md-6 form-group">
          <label class="modelDetails"> Transporter Details/Comments&nbsp;</label>
          <textarea  class="form-control" placeholder="Enter Transporter Details" formControlName="TRDetails" [ngClass]="{ 'is-invalid': submitted && f.TRDetails.errors }"></textarea>
        <div *ngIf="submitted && f.TRDetails.errors" class="invalid-feedback" >
               <div *ngIf="f.TRDetails.errors.required">Transporter Details is Required</div>
           </div>
        
        
             </div>


           <div class="col-md-6 form-group">
                <label class="lbl-margin">Select State<sup style="color:red">*</sup> :</label>
                  <select class="form-control" formControlName="StateId" [ngClass]="{ 'is-invalid': submitted && f.StateId.errors }" (change)="GetStateMappingState($event.target.value)">
                        <option [selected]=true value="0">Select State</option>
                         <option *ngFor="let Data of statemasterdata" value="{{Data.Stateid}}">{{Data.StateName}} </option>
                        </select> 
           
            <div *ngIf=" f.StateId.errors" class="invalid-feedback" >
                     <div *ngIf="f.StateId.errors.required">State is Required</div>
                 </div> 
               </div>


      <div class="col-md-6 form-group">
       <label class="">Select City&nbsp;<sup style="color:red">*</sup></label>
         <select class="form-control" formControlName="TRCityId" [ngClass]="{ 'is-invalid': submitted && f.TRCityId.errors }">
                <option>Select City</option>
                <option *ngFor="let Data of citydata" value="{{Data.CityId}}" >{{Data.CityName}} </option>
               </select> 
			   <div *ngIf="submitted && f.TRCityId.errors" class="invalid-feedback" >
            <div *ngIf="f.TRCityId.errors.required">City is Required</div>
        </div>
    </div>
      
     
      
      <div class="col-md-6 form-group">
       <label class="modelManufacturename">GST No&nbsp;</label>
          <input type="text" formControlName="GSTNo" class="form-control" placeholder="Enter GST No"  pattern="[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$" [ngClass]="{ 'is-invalid': submitted && f.GSTNo.errors }"/>
		  
		   <div  class="invalid-feedback" >
            Enter valid GST Number..
        </div>
      </div>
			

   <div class="col-md-6 form-group">
          <label class="modelDisposer lbl-margin">PAN Number&nbsp;<sup style="color:red">*</sup></label>
               <input type="text" formControlName="PanNumber" class="form-control"   placeholder="Enter PAN No" [ngClass]="{ 'is-invalid': submitted && f.PanNumber.errors }" pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"  />
              
        
        <div *ngIf="f.PanNumber.invalid && (f.PanNumber.dirty || submitted)" class="invalid-feedback ">
            <div *ngIf="f.PanNumber.errors.required"> Pan Number is Required </div>
            <div *ngIf="f.PanNumber.errors.pattern" class="custom-Invalid-feedback feedback-pos">
            Please input valid Pan Number
            </div>
            </div> 
            
          
          </div> 
     
		<div class="col-md-6 form-group">	
		<label class="modelDisposer lbl-margin">Select Agreement Status&nbsp;<sup style="color:red">*</sup></label>
		<select class="form-control" formControlName="AgreementStatusId" [ngClass]="{ 'is-invalid': submitted && f.AgreementStatusId.errors }" (change)="GetAgreementValue($event.target.value)">
                <option [selected]=true [disabled]="true">Select AgreementStatus</option>
                <option *ngFor="let Data of TransportationStatusdata" value="{{Data.StatusId}}" >{{Data.StatusName}} </option>
               </select> 
			   
			   <div *ngIf="submitted && f.AgreementStatusId.errors" class="invalid-feedback" >
            <div *ngIf="f.AgreementStatusId.errors.required">Agreement Status is Required</div>
        </div>
		</div>
    <div class="col-md-6" *ngIf="NoneAgreementStatusSelected" style="display: block"></div>

    <div class="col-md-6 form-group" *ngIf="SignedSelected" >
      <label class="modelGST">Expiry Date<sup style="color:red">*</sup></label> 
        <input type="date" formControlName="ExpiryDate" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.ExpiryDate.errors }">
    <div *ngIf=" f.ExpiryDate.errors" class="invalid-feedback" >
           <div *ngIf="f.ExpiryDate.errors.required">Expiry Date is Required</div>
       </div>
     </div>

    <div class="col-md-6 form-group" *ngIf="TerminatedSelected">
        <label class="modelGST">Last Date<sup style="color:red">*</sup></label> 
        <input type="date" formControlName="ExpiryDate" class="form-control" max="{{TodayDateC}}" [ngClass]="{ 'is-invalid': submitted && f.ExpiryDate.errors }">
        <div *ngIf=" f.ExpiryDate.errors" class="invalid-feedback" >
          <div *ngIf="f.ExpiryDate.errors.required">Last Date is Required</div>
      </div>
    </div>
	  
	   <div class="col-md-6 form-group"> 
        <label class="modelGST lbl-margin">Creation Date&nbsp;<sup style="color:red">*</sup></label> 
         <input type="Date" formControlName="CreationDate" value="{{TodayDateC}}" class="form-control" placeholder="Select Creation Date"  readonly /> 
		   
      </div> 
	  
      <div class="col-md-6 form-group" *ngIf="ShowBlock" >
          <label class="modelGST">Signed Date<sup style="color:red">*</sup></label> 
          <input type="date" formControlName="SignedDate" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.SignedDate.errors }">
          <div *ngIf=" f.SignedDate.errors" class="invalid-feedback" >
            <div *ngIf="f.SignedDate.errors.required">Signed Date is Required</div>
        </div>
      </div>
    
         <div class="col-md-6" *ngIf="NoneAgreementStatusSelected" style="display: block" > </div>
	
         <div class="space10"></div>

	   <!--Start Primary details -->
	 	 	 <div class="col-md-6">
       <label class="modelDetails lbl-margin"><b>Primary Contact Details :</b></label>
       <br>
       <label class="modelManufactureAddress">Name&nbsp;<sup style="color:red">*</sup></label>
        <input type="text" formControlName="PrimaryCntName" class="form-control" placeholder="Enter Name"[ngClass]="{ 'is-invalid': submitted && f.PrimaryCntName.errors }"/>
		<div *ngIf="submitted && f.PrimaryCntName.errors" class="invalid-feedback" >
            <div *ngIf="f.PrimaryCntName.errors.required">Name is Required</div>
        </div>
		
		<div class="space10"></div>
      <label class="modelManufactureAddress lbl-margin">Designation&nbsp;<sup style="color:red">*</sup></label>
        <input type="text" formControlName="PrimaryCntDesignation" class="form-control" placeholder="Enter Designation" [ngClass]="{ 'is-invalid': submitted && f.PrimaryCntDesignation.errors }"/>
		<div *ngIf="submitted && f.PrimaryCntDesignation.errors" class="invalid-feedback" >
            <div *ngIf="f.PrimaryCntDesignation.errors.required">Designation is Required</div>
        </div>
        <div class="space10"></div>
		<label class="modelManufactureAddress">Mobile<sup style="color:red">*</sup></label>
        <input type="number" formControlName="PrimaryCntTelNo" class="form-control" placeholder="Enter Mobile Number" [ngClass]="{ 'is-invalid': submitted && f.PrimaryCntTelNo.errors }" pattern="[7-9]{1}[0-9]{9}" maxlength="10"/>
		<div *ngIf=" f.PrimaryCntTelNo.errors" class="invalid-feedback" >		
            <div *ngIf="f.PrimaryCntTelNo.errors.required">
			Please input 10 digit Mobile Number
			</div>
			<div *ngIf="f.PrimaryCntTelNo.errors.minlength">
          Mobile Number must be at least 10 digit long
			</div> 
			<div *ngIf="f.PrimaryCntTelNo.errors.maxlength"> 
          Mobile Number can be max 10 digit long
			</div>
			<div *ngIf="f.PrimaryCntTelNo.errors.pattern"> 
          Please enter valid mobile number
        </div>	
        </div>
        <div class="space10"></div>
		
       <label class="modelManufactureAddress">Landline</label>
         <input type="number" formControlName="PrimaryCntLandlineNo" class="form-control" placeholder="Enter Landline Number" pattern="^\d{3}-\d{3}-\d{4}$"  />
		 <div *ngIf=" f.PrimaryCntLandlineNo.errors" class="invalid-feedback" >	
		 <div *ngIf="f.PrimaryCntLandlineNo.errors.pattern"> 
        Please enter valid Landline number
			</div>	
			</div>	
			
      <div class="space10"></div>
		
      <label class="modelManufactureAddress lbl-margin">Email&nbsp;<sup style="color:red">*</sup></label>
        <input type="text" formControlName="PrimaryCntEmail" class="form-control" placeholder="Enter Email" pattern="^([A-Za-z0-9_\-\.]+)@[A-Za-z0-9-]+(\.[A-Za-z0-9-]+)*(\.[A-Za-z]{2,3})$"  [ngClass]="{ 'is-invalid': submitted && f.PrimaryCntEmail.errors }" required [email]="true"/>
		<div *ngIf="f.PrimaryCntEmail.invalid && (f.PrimaryCntEmail.dirty || submitted)" class="invalid-feedback ">
			<div *ngIf="f.PrimaryCntEmail.errors.required"> Email ID Required </div>
			<div *ngIf="f.PrimaryCntEmail.errors.email && !f.PrimaryCntEmail.errors.required" class="custom-Invalid-feedback feedback-pos">
			Please enter valid email ID
      </div>
      <div class="space10"></div>
      <div class="space10"></div>
			</div> 
		
      </div>
	  <!--End Primary details -->
	  
	  
	  <!--Start Secondory details -->
    <div class="col-md-6">
	 
     <label class="modelDetails"><b>Secondary Contact Details :</b>&nbsp;<br><input type="checkbox" checked="checked" formControlName="CheckboxSelect" (change)="toggleEditable($event)" />
       Same as above
    </label>
	 
	 
	
	
       <label class="modelManufactureAddress">Name</label>
        <input type="text" formControlName="SecCntName" class="form-control" placeholder="Enter Name" />
		
        <div class="space10"></div>
      <label class="modelManufactureAddress">Designation</label>
        <input type="text" formControlName="SecCntDesignation"   class="form-control" placeholder="Enter Designation" />
		
        <div class="space10"></div>
		
		
      <label class="modelManufactureAddress">Mobile</label>
        <input type="text"  formControlName="SecCntTelNo" class="form-control" placeholder="Enter Mobile Number" pattern="[7-9]{1}[0-9]{9}"  maxlength="10"/>
		<div *ngIf=" f.SecCntTelNo.errors" class="custom-Invalid-feedback" >	
			<div *ngIf="f.SecCntTelNo.errors.minlength">
          Mobile Number must be at least 10 digit long
			</div> 
			<div *ngIf="f.SecCntTelNo.errors.maxlength"> 
          Mobile Number can be max 10 digit long
			</div>	
			<div *ngIf="f.SecCntTelNo.errors.pattern"> 
          Please enter valid Mobile number
        </div>	
			</div>
      <div class="space10"></div>
		 <label class="modelManufactureAddress">Landline</label>
         <input type="text" formControlName="SecCntLandlineNo"   class="form-control" placeholder="Enter Landline Number" pattern="^\d{3}-\d{3}-\d{4}$"/>
		 <div *ngIf=" f.SecCntLandlineNo.errors" class="custom-Invalid-feedback" >	
		 <div *ngIf="f.SecCntLandlineNo.errors.pattern"> 
        Please enter valid Landline number
			</div>
			</div>
		  <div class="space10"></div>
		
		
		<label class="modelManufactureAddress">Email</label>
        <input type="text" formControlName="SecCntEmail"  class="form-control" placeholder="Enter Email" pattern="^([A-Za-z0-9_\-\.]+)@[A-Za-z0-9-]+(\.[A-Za-z0-9-]+)*(\.[A-Za-z]{2,3})$"  [email]="true" />
		<div *ngIf="f.SecCntEmail.invalid && (f.SecCntEmail.dirty || submitted)" class="custom-Invalid-feedback">
			<div *ngIf="f.SecCntEmail.errors.email" class="custom-Invalid-feedback feedback-pos">
			Please enter valid email ID
			</div>
			</div> 
      <div class="space10"></div>
      <div class="space10"></div>
          </div>
		   <!--End Secondary details -->
		   
      
      
      
      <!-- <div class="col-md-6"> -->
    <!-- <label class="uplodfile"> Select Transporter Document :</label> -->
        <!-- <input type="file" name="file" accept="image/*" class=" form-group"/> -->
    <!-- </div> -->
      
      </div> 
	  
	  
	      <div class="row">
      <div class="col-md-12">
          <div id="accordion" class="accordion">
              <div class="card mb-0">
                  <div class="card-header collapsed" data-toggle="collapse" href="#collapseOne">
                      <a class="card-title">
                       <b>Document Upload</b>
                      </a>
                  </div>
                  <div id="collapseOne" class="card-body collapse" data-parent="#accordion" >
                      <form  [formGroup]="DocUploadForm"  novalidate>
                          <div class="row">
                              <div class="col-md-6">
                        <br>
                         <input type="file" class="form-control file1 browse" id="fileupload1" formControlName="DocumentName" (change)="getFiles($event)"[ngClass]="{ 'is-invalid': submitted && d.DocumentName.errors }">
                              <div *ngIf="submitted && d.DocumentName.errors" class="invalid-feedback" >
            <div *ngIf="d.DocumentName.errors.required">Select Document here..</div>
        </div>	
                      </div>
                      <div class="col-md-6">
                         <label class="" > Document Type&nbsp;<sup style="color:red">*</sup></label>
                       
                           <select class="form-control" formControlName="DocumentTypeId"[ngClass]="{ 'is-invalid': submitted && d.DocumentTypeId.errors }">
                             <option [selected]=true [disabled]="true" value="">Select Document Type</option>
                             <option *ngFor="let Data of DocData" value="{{Data.DocumentTypeId}}" >{{Data.DocumentTypeName}} </option>
                           </select>
                 
                              <div *ngIf="submitted && d.DocumentTypeId.errors" class="invalid-feedback" >
            <div *ngIf="d.DocumentTypeId.errors.required">Select Document Type..</div>
        </div>	
                 
                      </div>
                              <div class="col-md-6">
                               <label class="form-group" >Comments</label>
                               <textarea  formControlName="DocumentDetails" placeholder="Enter Comments" class="form-control" ></textarea>	
                       
                               </div>
                              <div class="col-md-12">
                                <br>
                                 <button class="btn btn-primary" (click)="UploadDocument()"> Add</button>  
        
                              </div>
                              
                            </div>
                      
                        <div class="space10"></div>
                        <div class="row">
                            <div class="col-md-12">
                              <div class="table-responsive">
                                 <div class="space10"></div>
                                <table class="table table-borderless table-hover tableborder align-middle citytable">
                                  <thead class="headerbackground text-white">
                                     <tr>
                                         <th></th>
                                         <th>Sr No.</th>
                                         <th>Document Name</th>
                                         <th>Document Type</th>
                                         <th>Comments</th>
                                       </tr>
                                     
                                  </thead>
                                <tbody>
                                   <tr *ngFor="let Data of DocumentData ; let i=index">
                                       <th><a href="{{Data.Document}}" target="_blank" class="btn-color">View</a><br><button (click)="DeleteDocument(Data.DocumentId)" class="btn-color"> Delete</button></th>
                                        <th>{{i + 1}}</th>								  
                                        <th>{{Data.DocumentName}}</th>
                                        <th>{{Data.DocumentTypeName}}</th>
                                        <th>{{Data.DocumentDetails}}</th>
                                   </tr>
                                </tbody>
                                </table>
      
                              </div>
                            </div>
                          </div>
                          <div class="space10"></div>
                        </form>
                    </div>
              </div>
            </div>
      </div>
    </div>
	  
	  <br>
      <div class="form-group   btn-submit">
          <button class="btn btn-primary" >Submit</button>  

      </div>
      <img *ngIf="loading" class="loadingbutton" src="../assets/images/Loading.gif">		  
    <!-- <div *ngIf="successmsg" class="form-group form-text">Added Successfully</div> -->
        </div>
		</form>
      </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal" (click)="ResetFrom()">Close</button>
        </div>
      </div>
    </div>
  </div>
  <!--Add Button Transporter-->
<!--My Modal Alert-->
<div id="myModalalert" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">    
       <div class="modal-content">
          <div class="modal-header" >
            <button type="button" class="close" data-dismiss="modal">&times;</button>       
          </div>
        <div class="modal-body">    
   <div class="alert alert-success"> {{AlertMessage}}</div>
        
        </div>
        <div class="modal-footer">
         <button type="button" class="btn btn-default"  data-dismiss="modal" >ok</button>
        </div>
      </div>
    </div>
  </div>
  <!--My Modal Alert-->
<!--Confirmation Mdal-->
<div id="myModalconfirmation" class="modal fade " role="dialog"  data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">    
     <div class="modal-content">
        <div class="modal-header" >
          <button type="button" class="close" data-dismiss="modal">&times;</button>       
        </div>
      <div class="modal-body height-120">    
 <div class="alert alert-success"> Transporter added Successfully.<br>Do you want to add Vehicle?</div>
      
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal"  (click)="RedirectToSubForm()" >Yes</button>
        <button type="button" class="btn btn-default" data-dismiss="modal" routerLink="/TransporterEnrolment">No</button>      </div>
    </div>
  </div>
</div> 

<!--Confirmation Modal ends-->
   <!--Edit Button Transporter myModaledit-->
  <div id="myModaledit" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg">    
       <div class="modal-content">
          <div class="modal-header" >
              <h4 class="text-center">Edit Transporters</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>       
          </div>
        <div class="modal-body">    
    
 <form [formGroup]="TransportForm" novalidate>
      <div class="form-group">
    <div class="col-md-12 row">
         <div class="col-md-6 form-group">
       <label class="modelManufacturename">Transporter Name&nbsp;<sup style="color:red">*</sup></label>
      <input type="text" formControlName="TRName" class="form-control" placeholder="Enter Transporter  Name" [ngClass]="{ 'is-invalid': submitted && f.TRName.errors }"  />
		<div *ngIf="submitted && f.TRName.errors" class="invalid-feedback" >
            <div *ngIf="f.TRName.errors.required">Transport Name is Required</div>
        </div>	  
      </div>
	  
	  
	 <div class="col-md-6 form-group">
          <label class="modelManufacturename">Transporter Code&nbsp;<sup style="color:red">*</sup></label>
          <input type="text" formControlName="TRCode" class="form-control" placeholder="Enter Transporter Code" [ngClass]="{ 'is-invalid': submitted && f.TRCode.errors }" readonly		  />
		<div *ngIf="submitted && f.TRCode.errors" class="invalid-feedback" >
            <div *ngIf="f.TRCode.errors.required">Transport Code is Required</div>
        </div>
        </div>
      
      <div class="col-md-6 form-group">
       <label class="modelManufactureAddress">Billing Address&nbsp;<sup style="color:red">*</sup></label>
          <textarea  formControlName="TRAddress" class="form-control" placeholder="Enter Billing Address" [ngClass]="{ 'is-invalid': submitted && f.TRAddress.errors }"></textarea>
		  
		  <div *ngIf="submitted && f.TRAddress.errors" class="invalid-feedback" >
            <div *ngIf="f.TRAddress.errors.required">Billing Address is Required</div>
        </div>
      </div>
      <div class="col-md-6 form-group">
        <label class="modelDetails"> Transporter Details/Comments &nbsp;</label>
        <textarea  class="form-control" placeholder="Enter Details" formControlName="TRDetails" [ngClass]="{ 'is-invalid': submitted && f.TRDetails.errors }"></textarea>
      <div *ngIf="submitted && f.TRDetails.errors" class="invalid-feedback" >
             <div *ngIf="f.TRDetails.errors.required">Transporter Details is Required</div>
         </div>
      
      
           </div>
      <div class="col-md-6 form-group">
          <label class="lbl-margin">Select State<sup style="color:red">*</sup> :</label>
            <select class="form-control" formControlName="StateId" [ngClass]="{ 'is-invalid': submitted && f.StateId.errors }" (change)="GetStateMappingState($event.target.value)">
                  <option [selected]=true value="0">Select State</option>
                   <option *ngFor="let Data of statemasterdata" value="{{Data.Stateid}}">{{Data.StateName}} </option>
                  </select> 
     
      <div *ngIf=" f.StateId.errors" class="invalid-feedback" >
               <div *ngIf="f.StateId.errors.required">State is Required</div>
           </div> 
         </div>

      <div class="col-md-6 form-group">
       <label class="">Select City&nbsp;<sup style="color:red">*</sup></label>
         <select class="form-control" formControlName="TRCityId" [ngClass]="{ 'is-invalid': submitted && f.TRCityId.errors }">
                <option>Select City</option>
                <option *ngFor="let Data of citydata" value="{{Data.CityId}}" >{{Data.CityName}} </option>
               </select> 
			   <div *ngIf="submitted && f.TRCityId.errors" class="invalid-feedback" >
            <div *ngIf="f.TRCityId.errors.required">City is Required</div>
        </div>
    </div>
      
     
      
      <div class="col-md-6 form-group">
       <label class="modelManufacturename">GST No&nbsp;</label>
          <input type="text" formControlName="GSTNo" class="form-control" placeholder="Enter GST No" pattern="[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$" [ngClass]="{ 'is-invalid': submitted && f.GSTNo.errors }"/>
		  
		   <div class="invalid-feedback" >
            Enter Valid GST Number...
        </div>
      </div>
      
  <div class="col-md-6 form-group">
          <label class="modelDisposer lbl-margin">PAN Number&nbsp;<sup style="color:red">*</sup></label>
               <input type="text" formControlName="PanNumber" class="form-control"   placeholder="Enter PAN No" [ngClass]="{ 'is-invalid': submitted && f.PanNumber.errors }" pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"  />
              
        
        <div *ngIf="f.PanNumber.invalid && (f.PanNumber.dirty || submitted)" class="invalid-feedback ">
            <div *ngIf="f.PanNumber.errors.required"> Pan Number is Required </div>
            <div *ngIf="f.PanNumber.errors.pattern" class="custom-Invalid-feedback feedback-pos">
            Please input valid Pan Number
            </div>
            </div> 
            
          
          </div> 
 
		 <div class="col-md-6 form-group">	
		<label class="modelDisposer lbl-margin">Select Agreement Status&nbsp;<sup style="color:red">*</sup></label>
		<select class="form-control" formControlName="AgreementStatusId" [ngClass]="{ 'is-invalid': submitted && f.AgreementStatusId.errors }" 
    (change)="GetAgreementValue($event.target.value)">
                <option [selected]=true [disabled]="true">Select AgreementStatus</option>
                <option *ngFor="let Data of TransportationStatusdata" value="{{Data.StatusId}}" >{{Data.StatusName}} </option>
               </select> 
			   
			   <div *ngIf="submitted && f.AgreementStatusId.errors" class="invalid-feedback" >
            <div *ngIf="f.AgreementStatusId.errors.required">Agreement Status is Required</div>
        </div>
		</div>
		<div class="col-md-6" *ngIf="NoneAgreementStatusSelected" style="display: block"></div>

    <div class="col-md-6 form-group" *ngIf="SignedSelected" >
      <label class="modelGST">Expiry Date<sup style="color:red">*</sup></label> 
        <input type="date" formControlName="ExpiryDate" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.ExpiryDate.errors }">
    <div *ngIf=" f.ExpiryDate.errors" class="invalid-feedback" >
           <div *ngIf="f.ExpiryDate.errors.required">Expiry Date is Required</div>
       </div>
     </div>

    <div class="col-md-6 form-group" *ngIf="TerminatedSelected">
        <label class="modelGST">Last Date<sup style="color:red">*</sup></label> 
        <input type="date" formControlName="ExpiryDate" class="form-control" max="{{TodayDateC}}" [ngClass]="{ 'is-invalid': submitted && f.ExpiryDate.errors }">
        <div *ngIf=" f.ExpiryDate.errors" class="invalid-feedback" >
          <div *ngIf="f.ExpiryDate.errors.required">Last Date is Required</div>
      </div>
    </div>
	   <div class="col-md-6 form-group"> 
        <label class="modelGST lbl-margin">Creation Date&nbsp;<sup style="color:red">*</sup></label> 
         <input type="Date" formControlName="CreationDate" value="{{DispalayCreationDate}}" class="form-control" placeholder="Select Creation Date"  readonly /> 
		  </div>
      <div class="col-md-6 form-group" *ngIf="ShowBlock" >
          <label class="modelGST">Signed Date<sup style="color:red">*</sup></label> 
          <input type="date" formControlName="SignedDate" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.SignedDate.errors }">
          <div *ngIf=" f.SignedDate.errors" class="invalid-feedback" >
            <div *ngIf="f.SignedDate.errors.required">Signed Date is Required</div>
        </div>
      </div>
    
         <div class="col-md-6" *ngIf="NoneAgreementStatusSelected" style="display: block" > </div>
		<!-- <div class="col-md-6"> 
        <label class="modelGST">Expiry Date&nbsp;<sup style="color:red">*</sup></label> 
         <input type="Date" value="{{DispalayDate}}" formControlName="ExpiryDate" class="form-control" placeholder="Select Expiry Date" [ngClass]="{ 'is-invalid': submitted && f.ExpiryDate.errors }" /> 
		<div *ngIf="submitted && f.ExpiryDate.errors" class="invalid-feedback" >
            <div *ngIf="f.ExpiryDate.errors.required">Expiry Date is Required</div>
        </div>
      </div>  -->
	  
	   
	  <!-- <div class="col-md-6">
		<label class="modelDisposer lbl-margin">PAN Number&nbsp;<sup style="color:red">*</sup></label>
        <input type="text" formControlName="Pancard" class="form-control"   placeholder="Enter PAN No" [ngClass]="{ 'is-invalid': submitted && f.Pancard.errors }" pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}"  />
		    
	
	<div *ngIf="f.Pancard.invalid && (f.Pancard.dirty || submitted)" class="invalid-feedback ">
			<div *ngIf="f.Pancard.errors.required"> Pan Number is Required </div>
			<div *ngIf="f.Pancard.errors.pattern" class="custom-Invalid-feedback feedback-pos">
			Please input valid Pan Number
			</div>
			</div>
			
		
		</div> -->
	  
	  
	  
	 	 	 <div class="col-md-6">
       <label class="modelDetails lbl-margin"><b>Primary Contact Details :</b></label>
       <br>
       <label class="modelManufactureAddress">Name&nbsp;<sup style="color:red">*</sup></label>
        <input type="text" formControlName="PrimaryCntName" class="form-control" placeholder="Enter Name"[ngClass]="{ 'is-invalid': submitted && f.PrimaryCntName.errors }"/>
		<div *ngIf="submitted && f.PrimaryCntName.errors" class="invalid-feedback" >
            <div *ngIf="f.PrimaryCntName.errors.required">Name is Required</div>
        </div>
    
        <div class="space10"></div>
		
      <label class="modelManufactureAddress lbl-margin">Designation&nbsp;<sup style="color:red">*</sup></label>
        <input type="text" formControlName="PrimaryCntDesignation" class="form-control" placeholder="Enter Designation" [ngClass]="{ 'is-invalid': submitted && f.PrimaryCntDesignation.errors }"/>
		<div *ngIf="submitted && f.PrimaryCntDesignation.errors" class="invalid-feedback" >
            <div *ngIf="f.PrimaryCntDesignation.errors.required">Designation is Required</div>
        </div>

        <div class="space10"></div>
		<label class="modelManufactureAddress">Mobile<sup style="color:red">*</sup></label>
        <input type="number" formControlName="PrimaryCntTelNo" class="form-control" placeholder="Enter Mobile Number " [ngClass]="{ 'is-invalid': submitted && f.PrimaryCntTelNo.errors }"  pattern="[7-9]{1}[0-9]{9}" maxlength="10"/>
		<div *ngIf=" f.PrimaryCntTelNo.errors" class="invalid-feedback" >		
            <div *ngIf="f.PrimaryCntTelNo.errors.required">
			Please input 10 digit Mobile Number
			</div>
			<div *ngIf="f.PrimaryCntTelNo.errors.minlength">
          Mobile Number must be at least 10 digit long
			</div> 
			<div *ngIf="f.PrimaryCntTelNo.errors.maxlength"> 
          Mobile Number can be max 10 digit long
			</div>
			<div *ngIf="f.PrimaryCntTelNo.errors.pattern"> 
          Please enter valid Mobile number

			</div>	
        </div>
		    <div class="space10"></div>
		
        <label class="modelManufactureAddress">Landline</label>
         <input type="number" formControlName="PrimaryCntLandlineNo" class="form-control" placeholder="Enter Landline" pattern="^\d{3}-\d{3}-\d{4}$" />
		 <div *ngIf=" f.PrimaryCntLandlineNo.errors" class="invalid-feedback" >
		 <div *ngIf="f.PrimaryCntLandlineNo.errors.pattern"> 
        Please enter valid Landline number
			</div>	
			</div>	
      <div class="space10"></div>
		
      <label class="modelManufactureAddress lbl-margin">Email&nbsp;<sup style="color:red">*</sup></label>
        <input type="text" formControlName="PrimaryCntEmail" class="form-control" placeholder="Enter Email" pattern="^([A-Za-z0-9_\-\.]+)@[A-Za-z0-9-]+(\.[A-Za-z0-9-]+)*(\.[A-Za-z]{2,3})$" [ngClass]="{ 'is-invalid': submitted && f.PrimaryCntEmail.errors }" required [email]="true"/>
		<div *ngIf="f.PrimaryCntEmail.invalid && (f.PrimaryCntEmail.dirty || submitted)" class="invalid-feedback ">
			<div *ngIf="f.PrimaryCntEmail.errors.required"> Email ID Required </div>
			<div *ngIf="f.PrimaryCntEmail.errors.email && !f.PrimaryCntEmail.errors.required" class="custom-Invalid-feedback feedback-pos">
			Please enter valid email ID
			</div>
			</div> 
      <div class="space10"></div>
      <div class="space10"></div>
      </div>
	 
  <div class="col-md-6">
	 
     <label class="modelDetails"><b>Secondary Contact Details :</b>&nbsp;<br><input type="checkbox" checked="checked" formControlName="CheckboxSelect" (change)="toggleEditable($event)" />
       Same as above
    </label>

       <label class="modelManufactureAddress">Name</label>
        <input type="text" formControlName="SecCntName" class="form-control" placeholder="Enter Name" />
		
		    <div class="space10"></div>
      <label class="modelManufactureAddress">Designation</label>
        <input type="text" formControlName="SecCntDesignation"   class="form-control" placeholder="Enter Designation" />
		    <div class="space10"></div>
		
		
		
      <label class="modelManufactureAddress">Mobile</label>
        <input type="number"  formControlName="SecCntTelNo" class="form-control" placeholder="Enter Mobile Number" pattern="[7-9]{1}[0-9]{9}" />
		<div *ngIf=" f.SecCntTelNo.errors" class=" custom-Invalid-feedback" >	
			<div *ngIf="f.SecCntTelNo.errors.minlength">
          Mobile Number must be at least 10 digit long
			</div> 
			<div *ngIf="f.SecCntTelNo.errors.maxlength"> 
          Mobile Number can be max 10 digit long
			</div>	
			<div *ngIf="f.SecCntTelNo.errors.pattern"> 
          Please enter valid Mobile number
			</div>	
			</div>
      <div class="space10"></div>
		 <label class="modelManufactureAddress">Landline</label>
         <input type="number" formControlName="SecCntLandlineNo"   class="form-control" placeholder="Enter Landline Number" pattern="^\d{3}-\d{3}-\d{4}$" />
		 <div *ngIf=" f.SecCntLandlineNo.errors" class="custom-Invalid-feedback" >	
		 <div *ngIf="f.SecCntLandlineNo.errors.pattern"> 
        Please enter valid Landline number		</div>
			</div>
		  
		
      <div class="space10"></div>
		<label class="modelManufactureAddress">Email</label>
        <input type="text" formControlName="SecCntEmail"  class="form-control" placeholder="Enter Email" pattern="^([A-Za-z0-9_\-\.]+)@[A-Za-z0-9-]+(\.[A-Za-z0-9-]+)*(\.[A-Za-z]{2,3})$"  [email]="true" />
		<div *ngIf="f.SecCntEmail.invalid && (f.SecCntEmail.dirty || submitted)" class="custom-Invalid-feedback">
			<div *ngIf="f.SecCntEmail.errors.email" class="custom-Invalid-feedback feedback-pos">
			Please input valid email ID
			</div>
			</div> 
      <div class="space10"></div>
      <div class="space10"></div>
          </div>
	
      </div> 
	   <div class="col-md-12">
        <div id="accordion1" class="accordion">
            <div class="card mb-0">
                <div class="card-header collapsed" data-toggle="collapse" href="#collapseTwo">
                    <a class="card-title">
                     <b>Document Upload</b>
                    </a>
                </div>
                <div id="collapseTwo" class="card-body collapse" data-parent="#accordion1" >
                  <form  [formGroup]="DocUploadForm"  novalidate>

                    <div class="row">
                      <div class="col-md-6">
                        <br>
                         <input type="file" class="form-control file1 browse" id="fileupload1" formControlName="DocumentName" (change)="getFiles($event)"[ngClass]="{ 'is-invalid': submitted && d.DocumentName.errors }">
                              <div *ngIf="submitted && d.DocumentName.errors" class="invalid-feedback" >
            <div *ngIf="d.DocumentName.errors.required">Select Document here..</div>
        </div>	
                      </div>
                      <div class="col-md-6">
                         <label class="" > Document Type&nbsp;<sup style="color:red">*</sup></label>
                       
                           <select class="form-control" formControlName="DocumentTypeId"[ngClass]="{ 'is-invalid': submitted && d.DocumentTypeId.errors }">
                             <option [selected]=true [disabled]="true" value="">Select Document Type</option>
                             <option *ngFor="let Data of DocData" value="{{Data.DocumentTypeId}}" >{{Data.DocumentTypeName}} </option>
                           </select>
                 
                              <div *ngIf="submitted && d.DocumentTypeId.errors" class="invalid-feedback" >
            <div *ngIf="d.DocumentTypeId.errors.required">Select Document Type..</div>
        </div>	
                 
                      </div>
                      <div class="col-md-6">
                       <label class="form-group" >Comments</label>
                       <textarea  formControlName="DocumentDetails" placeholder="Enter Comments" class="form-control" ></textarea>	
               
                       </div>
                      <div class="col-md-12">
                        <br>
                         <button class="btn btn-primary" (click)="UploadDocument()"> Add</button>  

                      </div>
                      
                    </div>
                    <div class="space10"></div>
                    <div class="row">
                      <div class="col-md-12">
                        <div class="table-responsive">
                           <div class="space10"></div>
                          <table class="table table-borderless table-hover tableborder align-middle citytable">
                            <thead class="headerbackground text-white">
                               <tr>
                                   <th></th>
                                   <th>Sr No.</th>
                                   <th>Document Name</th>
                                   <th>Document Type</th>
                                   <th>Comments</th>
                                 </tr>
                               
                            </thead>
                          <tbody>
                             <tr *ngFor="let Data of DocumentData ; let i=index">
                                 <th><a href="{{Data.Document}}" target="_blank" class="btn-color">View</a><br><button (click)="DeleteDocument(Data.DocumentId)" class="btn-color"> Delete</button></th>
                                  <th>{{i + 1}}</th>								  
                                  <th>{{Data.DocumentName}}</th>
                                  <th>{{Data.DocumentTypeName}}</th>
                                  <th>{{Data.DocumentDetails}}</th>
                             </tr>
                          </tbody>
                          </table>

                        </div>
                      </div>
                    </div>
                   </form>
                </div>
                
                
            </div>
        </div>
    
    </div>
	  <br>
      <div class="form-group   btn-submit">
          <button class="btn btn-primary" (click)="EditTransporter()">Update</button>  
	<img *ngIf="loading" class="loadingbutton" src="../assets/images/Loading.gif">		  
      </div>
    <!-- <div *ngIf="successmsg" class="form-group form-text">Updated Successfully</div> -->
        </div>
		</form>
      </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <!--Edit Button Transporter-->

  <!--Delete  Button Transporter-->
  <div id="myModaldelete" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">    
       <div class="modal-content">
          <div class="modal-header" >
            <button type="button" class="close" data-dismiss="modal">&times;</button>       
          </div>
        <div class="modal-body">    
   <div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span> Are you sure you want to delete this Transporters Details?</div>
        
        </div>
        <div class="modal-footer">
         <button type="button" class="btn btn-default" data-dismiss="modal" (click)="CheckValidationForDelete()">Yes</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
        </div>
      </div>
    </div>
  </div>
  <!--Delete  Button Transporter-->
  
  

  <!-- <!--Table Vehicles --> 

   <div id="myModalAddVehicales" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false"> 
 <div class="modal-dialog modal-lg">    
    <div class="modal-content">
        <div class="modal-header" > 
     <button type="button" class="close" data-dismiss="modal">&times;</button>     
         </div> 
     <div class="modal-body">  
     <h4>Vehicles</h4> 
   <label class="modelManufacturename namefloat">Transpoter Name :&nbsp;&nbsp;{{TranspoterName}}</label> 
     <div class="float-right"> 
<button class="btn btn-primary Addcitybtton"  data-toggle="modal" data-dismiss="modal" data-target="#AddVehicales" (click)="ResetFrom()">Add Vehicle</button> 
     </div> 
	  <div class="table-responsive"> 
     <table class="table table-borderless table-hover tableborder align-middle citytable"> 
      <thead class="headerbackground text-white"> 
    <tr> 
	<th></th>
         <th>Sr No</th> 
         <th>Vehicle Type</th> 
        <th>Transporters Routes</th> 
      <th>Max.Capacity of Transporter</th>
     <th>Laed Time</th> 
      
    </tr> 
      </thead> 
   <tbody>
       <tr *ngFor="let Data of TransportRoutesVehicleData ; let i=index">
	   <td><label  (click)="EditTransportVehicleData(Data.TRVehicleTypeId,Data.TransportRoutes,Data.MaxCapacityForTransport,Data.LeadTime,Data.TRVehicleId)"> <span data-dismiss="modal" data-toggle="modal" data-target="#myModalEditVehicles" class="btn-color">Edit</span> </label>
		
		<label  (click)="DeleteTransportVehicleData(Data.TRVehicleTypeId,Data.TransportRoutes,Data.MaxCapacityForTransport,Data.LeadTime,Data.TRVehicleId)"> <span data-dismiss="modal" data-toggle="modal" data-target="#myModalDeleteVehicles" class="btn-color">Delete</span> </label>
		</td>
      <td>{{i+1}}</td>
     <td>{{Data.VehicleType}}</td> 
      <td>{{Data.TransportRoutesdesc}}</td> 
       <td>{{Data.MaxCapacityForTransport}}</td> 
    <td>{{Data.LeadTime}}</td> 
      
     
       
   
    
     </tr> 
  
    
   
    
   </tbody> 
     </table>
	 </div>
      <div class="modal-footer"> 
           <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> 
       </div> 
  
    
  </div> 
  </div> 
 </div> 
   </div> 
  <!-- Table vehicles --> 


  <!-- Add vehicles button--> 

  <div id="AddVehicales" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false"> 
     <div class="modal-dialog modal-lg">    
        <div class="modal-content"> 
           <div class="modal-header" > 
              <h4>Add Vehicle </h4> 

           <button type="button" class="close" data-dismiss="modal">&times;</button>        
           </div> 
        <div class="modal-body">  
<form [formGroup]="TransportVehicleForm" (ngSubmit)="onSubmitTransportVehicle()"> 	
    
       <div class="form-group"> 
          
       <div class="col-md-12 row"> 	 
	 <div class="col-md-6"> 
       <label class="form-group" >Vehicle Type&nbsp;<sup style="color:red">*</sup></label> 
   <select class="form-control" formControlName="TRVehicleTypeId" [ngClass]="{ 'is-invalid': submitted && g.TRVehicleTypeId.errors }">
               <option [selected]=true [disabled]="true">Select Vehicle Type</option>
               <option *ngFor="let Data of vehicletypedata" value="{{Data.VehicleTypeId}}" >{{Data.VehicleType}}&nbsp;&nbsp;({{Data.BodyType}})</option>
               </select> 
			   
		<div *ngIf="submitted && g.TRVehicleTypeId.errors" class="invalid-feedback" >
            <div *ngIf="g.TRVehicleTypeId.errors.required">Vehicle Type is Required</div>
        </div>
			   
     </div> 
	 
    
     <div class="col-md-6"> 
       <label class="form-group" >Transpoter Route&nbsp;<sup style="color:red">*</sup></label> 
   <select class="form-control" formControlName="TransportRoutes" [ngClass]="{ 'is-invalid': submitted && g.TransportRoutes.errors }">
                <option>Select Transpoter Route</option>
                <option *ngFor="let Data of transportVehicledata" value="{{Data.TransportRouteId}}" >{{Data.TransportRouteName}} </option>
               </select> 
			   
		<div *ngIf="submitted && g.TransportRoutes.errors" class="invalid-feedback" >
            <div *ngIf="g.TransportRoutes.errors.required">Transpoter Route is Required</div>
        </div>
			   
     </div> 
    
       
       <div class="col-md-6">
         <label class="form-group" >Maximum Capacity for transport(Ton)&nbsp;<sup style="color:red">*</sup></label> 
           <input type="number" formControlName="MaxCapacityForTransport" class="form-control" placeholder="Enter Max. Capacity for transport" [ngClass]="{ 'is-invalid': submitted && g.MaxCapacityForTransport.errors }"/> 
		   
		    <div *ngIf="submitted && g.MaxCapacityForTransport.errors" class="invalid-feedback" >
            <div *ngIf="g.MaxCapacityForTransport.errors.required">Maximum Capacity for transport is Required</div>
        </div>
        </div> 
       
       <div class="col-md-6">
         <label class="form-group" >Lead Time(Days)&nbsp;<sup style="color:red">*</sup></label> 
       <input type="number" formControlName="LeadTime" class="form-control" placeholder="Enter Lead Time" [ngClass]="{ 'is-invalid': submitted && g.LeadTime.errors }"/> 
	   
	   <div *ngIf="submitted && g.LeadTime.errors" class="invalid-feedback" >
            <div *ngIf="g.LeadTime.errors.required">Lead Time is Required</div>
        </div>
      </div> 
      
     </div>  
     <br>
      <div class="form-group   btn-submit">
          <button class="btn btn-primary">Submit</button>  
		  <img *ngIf="loading" class="loadingbutton" src="../assets/images/Loading.gif">
       </div> 
	   <!-- <div *ngIf="successmsg" class="form-group form-text">Added Successfully</div> -->
    
   </div>  
   </form>
        </div> 
        <div class="modal-footer"> 
           <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> 
        </div> 
     </div> 
    </div> 
   </div> 

  <!-- <!--Add vehicles Button--> 


  <!-- <!--Edit Vehicles Button myModalEditVehicles--> 

   <div id="myModalEditVehicles" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false"> 
     <div class="modal-dialog modal-lg">    
        <div class="modal-content"> 
           <div class="modal-header" > 
           <button type="button" class="close" data-dismiss="modal">&times;</button>        
           </div> 
        <div class="modal-body">  
<form [formGroup]="TransportVehicleForm"> 	
      <h4>Edit Vehicle </h4> 
    
       <div class="form-group"> 
          
       <div class="col-md-12 row"> 	 
	 <div class="col-md-6"> 
       <label class="form-group" >Vehicle Type&nbsp;<sup style="color:red">*</sup></label> 
   <select class="form-control" formControlName="TRVehicleTypeId" [ngClass]="{ 'is-invalid': submitted && g.TRVehicleTypeId.errors }">
               <option [selected]=true [disabled]="true">Select Vehicle Type</option>
               <option *ngFor="let Data of vehicletypedata" value="{{Data.VehicleTypeId}}" >{{Data.VehicleType}} &nbsp;&nbsp;({{Data.BodyType}}) </option>
               </select> 
			   
		<div *ngIf="submitted && g.TRVehicleTypeId.errors" class="invalid-feedback" >
            <div *ngIf="g.TRVehicleTypeId.errors.required">Vehicle Type is Required</div>
        </div>
			   
     </div> 
	 
    
     <div class="col-md-6"> 
       <label class="form-group" >Transpoter Route&nbsp;<sup style="color:red">*</sup></label> 
   <select class="form-control" formControlName="TransportRoutes" [ngClass]="{ 'is-invalid': submitted && g.TransportRoutes.errors }">
                <option>Select Transpoter Route</option>
                <option *ngFor="let Data of transportVehicledata" value="{{Data.TransportRouteId}}" >{{Data.TransportRouteName}} </option>
               </select> 
			   
		<div *ngIf="submitted && g.TransportRoutes.errors" class="invalid-feedback" >
            <div *ngIf="g.TransportRoutes.errors.required">Transpoter Route is Required</div>
        </div>
			   
     </div> 
    
       
       <div class="col-md-6">
         <label class="form-group" >Maximum Capacity for transport(Ton)&nbsp;<sup style="color:red">*</sup></label> 
           <input type="number" formControlName="MaxCapacityForTransport" class="form-control" placeholder="Enter Max. Capacity for transport" [ngClass]="{ 'is-invalid': submitted && g.MaxCapacityForTransport.errors }"/> 
		   
		    <div *ngIf="submitted && g.MaxCapacityForTransport.errors" class="invalid-feedback" >
            <div *ngIf="g.MaxCapacityForTransport.errors.required">Maximum Capacity for transport is Required</div>
        </div>
        </div> 
       
       <div class="col-md-6">
         <label class="form-group" >Lead Time(Days)&nbsp;<sup style="color:red">*</sup></label> 
       <input type="number" formControlName="LeadTime" class="form-control" placeholder="Enter Lead Time" [ngClass]="{ 'is-invalid': submitted && g.LeadTime.errors }"/> 
	   
	   <div *ngIf="submitted && g.LeadTime.errors" class="invalid-feedback" >
            <div *ngIf="g.LeadTime.errors.required">Lead Time is Required</div>
        </div>
      </div> 
      
     </div>  
      <div class="form-group   btn-submit">
          <button class="btn btn-primary" (click)="AddUpdateDeleteTransportVehicle()">Update</button>  
		  <img *ngIf="loading" class="loadingbutton" src="../assets/images/Loading.gif">
       </div> 
	   <!-- <div *ngIf="successmsg" class="form-group form-text">Updated Successfully</div> -->
    
   </div>  
   </form>
        </div> 
        <div class="modal-footer"> 
           <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> 
        </div> 
     </div> 
    </div> 
   </div> 
  <!-- <!--Edit Vehicle Button--> 

  <!-- <!--Delete Vehicle Button--> 
  
    <div id="myModalDeleteVehicles" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">    
       <div class="modal-content">
          <div class="modal-header" >
            <button type="button" class="close" data-dismiss="modal">&times;</button>       
          </div>
        <div class="modal-body">    
   <div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span> Are you sure you want to delete this Transporters Vehicle Details?</div>
        
        </div>
        <div class="modal-footer">
  <button type="button" class="btn btn-default" data-dismiss="modal" (click)="AddUpdateDeleteTransportVehicle()">Yes</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
        </div>
      </div>
    </div>
  </div>
  <!-- <!--Delete Vehicle Button--> 
  </div>
